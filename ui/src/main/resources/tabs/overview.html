<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Overview - Source++</title>
    <link rel='stylesheet' href='../semantic.min.css'>
    <script src="../echarts.min.js"></script>

    <!--Dynamically set style based on dark_mode parameter-->
    <script>
        function loadCSS(filename) {
            var linkRef = document.createElement("link");
            linkRef.setAttribute("rel", "stylesheet");
            linkRef.setAttribute("type", "text/css");
            linkRef.setAttribute("href", filename);
            document.getElementsByTagName("head")[0].appendChild(linkRef);
        }

        function findGetParameter(parameterName) {
            var result = null,
                tmp = [];
            location.search
                .substr(1)
                .split("&")
                .forEach(function (item) {
                    tmp = item.split("=");
                    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
                });
            return result;
        }

        var getDarkMode = findGetParameter("dark_mode");
        var darkMode = (getDarkMode) ? (getDarkMode == 'true') : false;
        if (darkMode) {
            loadCSS("css/dark_style.css");
        } else {
            loadCSS("css/style.css");
        }
    </script>
</head>
<body style="overflow-y: hidden">
<div class="ui sidebar vertical left menu overlay visible very thin icon spp_blue"
     style="-webkit-transition-duration: 0.1s; overflow: visible !important;">
    <div class="ui accordion displaynone">
        <a class="item openbtn" style="background-color: white; height: 45px !important;">Close menu</a>
        <a class="item active_tab">Dashboard</a>

        <div class="title item inactive_tab">
            <i class="dropdown icon"></i> Traces
        </div>
        <div class="content">
            <a id="sidebar_traces_link_latest" class="item sidebar_sub_text_color" href="traces.html">Latest</a>
            <a id="sidebar_traces_link_slowest" class="item sidebar_sub_text_color" href="traces.html">Slowest</a>
            <a id="sidebar_traces_link_failed" class="item sidebar_sub_text_color" href="traces.html">Failed</a>
        </div>
        <a id="sidebar_configuration_link" class="item inactive_tab" href="configuration.html">Configuration</a>
    </div>
    <div class="ui dropdown item openbtn" style="color: white">
        <i class="icon demo-icon content"></i>
    </div>
    <a class="ui dropdown item active_tab"><i class="icon demo-icon dashboard"></i></a>
    <div class="ui dropdown item inactive_tab">
        <z class="displaynone">Traces</z>
        <i class="icon demo-icon code"></i>

        <div class="menu secondary_background_color">
            <a id="traces_link_latest" class="item" href="traces.html">
                <span class="menu_tooltip_text">Latest</span>
            </a>
            <a id="traces_link_slowest" class="item" href="traces.html">
                <span class="menu_tooltip_text">Slowest</span>
            </a>
            <a id="traces_link_failed" class="item" href="traces.html">
                <span class="menu_tooltip_text">Failed</span>
            </a>
        </div>
    </div>
    <a id="configuration_link" class="ui item hide_on_toggle" href="configuration.html">
        <i class="icon configure inactive_tab"></i>
    </a>
</div>
<div class="pusher">
    <div class="ui menu fixed asd marginlefting middle aligned content"
         style="border-radius: 0!important; border: 0; margin-left: 260px; -webkit-transition-duration: 0.1s; align-content: center;">
        <div class="ui sidebar horizontal top menu fixed overlay visible very thin icon background_color"
             style="-webkit-transition-duration: 0.1s; overflow: visible !important;">
            <div class="marginlefting" style="height: 45px; line-height: 45px; align-content:center;">
                <div class="ui icon top left pointing dropdown">
                    <i class="clock outline icon spp_red_color" style="font-size: 20px; margin-top: -2px"></i>
                    <div class="menu secondary_background_color" style="margin-top: 0 !important;">
                        <div onclick="updateTime('last_5_minutes')" class="item">
                            <span class="menu_tooltip_text">LAST 5 MINUTES</span>
                        </div>
                        <div onclick="updateTime('last_15_minutes')" class="item active">
                            <span class="menu_tooltip_active_text">LAST 15 MINUTES</span>
                        </div>
                        <div onclick="updateTime('last_30_minutes')" class="item">
                            <span class="menu_tooltip_text">LAST 30 MINUTES</span>
                        </div>
                        <div onclick="updateTime('last_hour')" class="item">
                            <span class="menu_tooltip_text">LAST HOUR</span>
                        </div>
                        <div onclick="updateTime('last_3_hours')" class="item">
                            <span class="menu_tooltip_text">LAST 3 HOURS</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="right menu" style="height: 45px; line-height: 45px; align-content:center;">
                <a id="current_page_external" href="#" onclick="clickedViewAsExternalPortal()">
                    <i class="external link icon spp_red_color" style="font-size: 20px; margin-top: -2px"></i>
                </a>
            </div>
        </div>
    </div>
    <div class="ui padded equal height grid background_color" style="min-height: 100vh; margin-left: 60px !important">
        <div class="twelve wide stretched column">
            <div class="ui equal height grid">
                <div class="one column row" style="padding-top: 7px; padding-bottom: 0">
                    <div class="column" style="padding-left: 0; padding-right: 0">
                        <div id="overview_chart" style="height: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="four wide stretched column middle aligned">
            <div class="ui divided link items" style="font-size: 10px">
                <div class="item">
                    <div class="ui mini statistic" onclick="clickedViewAverageThroughputChart()">
                        <div id="card_throughput_average_header" class="value" style="text-align: left">
                            n/a
                        </div>
                        <div id="card_throughput_average_header_label" class="label">
                            AVG THROUGHPUT
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="ui mini statistic" onclick="clickedViewAverageResponseTimeChart()">
                        <div id="card_responsetime_average_header" class="value spp_red_color" style="text-align: left">
                            n/a
                        </div>
                        <div id="card_responsetime_average_header_label" class="label spp_red_color">
                            AVG RESP TIME
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="ui mini statistic" onclick="clickedViewAverageSLAChart()">
                        <div id="card_servicelevelagreement_average_header" class="value" style="text-align: left">
                            n/a
                        </div>
                        <div id="card_servicelevelagreement_average_header_label" class="label">
                            AVG SLA
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src='../jquery-3.1.1.min.js'></script>
<script src='../semantic.min.js'></script>
<script>
    $(document).ready(function () {
        $('.ui.dropdown').dropdown();
        $('.ui.sidebar').sidebar('setting', 'transition', 'overlay');
    });

    $(".openbtn").on("click", function () {
        $(".ui.sidebar").toggleClass("very thin icon");
        $(".asd").toggleClass("marginlefting");
        $(".sidebar z").toggleClass("displaynone");
        $(".ui.accordion").toggleClass("displaynone");
        $(".ui.dropdown.item").toggleClass("displaynone");
        $(".hide_on_toggle").toggleClass("displaynone");
        $(".pusher").toggleClass("dimmed");

        $(".logo").find('img').toggle();

    });
    $('.ui.accordion').accordion({
        selector: {}
    });
</script>
<script src="../moment.min.js"></script>
<script src="../sockjs.min.js"></script>
<script src='../vertx-eventbus.min.js'></script>
<script src='../source_eventbus_bridge.js'></script>
<script src='js/overview.js'></script>
</body>
</html>